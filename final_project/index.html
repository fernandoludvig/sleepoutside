<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Discover events in Florianópolis, Santa Catarina, Brazil">
  <title>Events in Brazil | Local Event Explorer</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <a href="#" class="logo">Brazil Events</a>
    <nav>
      <button id="showLoginBtn">Login</button>
      <button id="showRegisterBtn">Register</button>
      <button id="logoutBtn" style="display:none;">Logout</button>
      <span id="welcomeMsg"></span>
    </nav>
  </header>

  <main>
    <section id="authSection">
      <div id="loginForm" class="authForm" style="display:none;">
        <h2>Login</h2>
        <input type="text" id="loginUsername" placeholder="Username" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button id="loginSubmit">Login</button>
        <p>Don't have an account? <a href="#" id="showRegisterLink">Register</a></p>
        <p id="loginError" class="error"></p>
      </div>

      <div id="registerForm" class="authForm" style="display:none;">
        <h2>Register</h2>
        <input type="text" id="registerUsername" placeholder="Username" required>
        <input type="password" id="registerPassword" placeholder="Password" required>
        <input type="text" id="registerInterests" placeholder="Interests (comma separated)">
        <button id="registerSubmit">Register</button>
        <p>Already have an account? <a href="#" id="showLoginLink">Login</a></p>
        <p id="registerError" class="error"></p>
      </div>
    </section>

  <section id="searchSection" style="display:none;">
  <div class="section-header">
      <h2>Discover Events</h2>
  </div>
      <form id="eventSearchForm">
        <div class="search-fields">
          <div class="search-input-group">
            <input type="text" id="eventKeyword" placeholder="Search events...">
          </div>
          <div class="search-input-group">
            <input type="text" id="eventLocation" placeholder="City (optional)" list="cities">
            <datalist id="cities">
              <option value="Florianópolis">
              <option value="São Paulo">
              <option value="Rio de Janeiro">
              <option value="Belo Horizonte">
              <option value="Porto Alegre">
              <option value="Curitiba">
              <option value="Salvador">
              <option value="Brasília">
            </datalist>
          </div>
          <button type="submit" id="searchEventsBtn">Search</button>
        </div>
      </form>
      <div class="search-tags">
        <span class="tag" data-category="music">Music</span>
        <span class="tag" data-category="sports">Sports</span>
        <span class="tag" data-category="arts">Arts</span>
        <span class="tag" data-category="family">Family</span>
      </div>
    </section>

    <section id="eventsSection" style="display:none;">
      <div class="section-header">
        <h2>Upcoming Events</h2>
        <div class="sort-options">
          <select id="sortEvents">
            <option value="date,asc">Date (earliest first)</option>
            <option value="date,desc">Date (latest first)</option>
            <option value="name,asc">Name (A-Z)</option>
            <option value="name,desc">Name (Z-A)</option>
          </select>
        </div>
      </div>
      <div id="loadingIndicator" style="display:none;"></div>
      <div id="eventsList" class="events-container"></div>
    </section>

    <section id="favoritesSection" style="display:none;">
        <div class="section-header">
        <h2>My Favorites</h2>
      <div id="favoritesList"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Floripa Events. All rights reserved.</p>
    <p>Powered by Ticketmaster API</p>
  </footer>

  <script type="module">
    import { TICKETMASTER_API_KEY } from '/js/config.js';
    // Make API key available to other scripts if needed
    window.TICKETMASTER_API_KEY = TICKETMASTER_API_KEY;
  </script>
  <script src="js/auth.js"></script>
  <script src="js/events.js"></script>
  <script src="js/favorites.js"></script>
  <script src="js/script.js"></script>
</body>
</html>